<div class="grid">
  <mat-card class="recipe-general general-box">
      <h1>{{recipe.name}}</h1>
      <h2>{{recipe.shortDescription}}</h2>
      <p>{{recipe.description}}</p>
      <p>
        <mat-icon>schedule</mat-icon>
        <span>{{recipe.preparationTime}} minutes</span>
        <mat-icon>people</mat-icon>
        <span>{{recipe.portions}} persons</span>
      </p>
      <img src={{recipe.imageUrl}}/>
  </mat-card>
  <mat-card class='ingredients-card ingredients-box'>
    <mat-card-header>
    <mat-card-title>
      Ingredients
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div *ngFor='let ingredient of recipe.ingredients'>
      <p>{{ingredient.amount}} {{ingredient.unit}} of {{ingredient.name}}</p>
      <hr/>
    </div>    
  </mat-card-content>
  </mat-card>
  <mat-card class='preparation-steps-card steps-box'>
    <mat-card-header>
      <mat-card-title>
        Preparation steps
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <ol>
        <li *ngFor='let step of recipe.steps'>{{step.description}}</li>
      </ol>    
    </mat-card-content>
  </mat-card>
  <mat-card class='review-card review-box'>
    <mat-card-header>
      <mat-card-title>
        Write your review
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="reviewForm" (ngSubmit)="addReview()">
          <input matInput #reviewer required type="text" formControlName="reviewer" >
          <textarea matInput #body required type="text" formControlName="body"></textarea>
          <button type="submit" mat-raised-button mat-button color="primary" [disabled]='!reviewForm.valid'>ADD</button>
      </form>   
      <div *ngIf="reviews" class="last-reviews">
        <ul>
          <li *ngFor="let review of reviews">
            <strong>{{review.reviewer}}: </strong>{{review.body}}
          </li>
        </ul>
      </div>
    </mat-card-content>
  </mat-card>
</div>